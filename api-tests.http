# WilliamMacMiron API Test Collection
# Use with curl, HTTPie, or import into Postman/Insomnia

### Variables
@baseUrl = http://localhost:8080
@email = admin@williammacmiron.com
@password = admin123

### 1. Health Check
GET {{baseUrl}}/health

### 2. Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

### Save the accessToken and refreshToken from the response above

### 3. Get Current User (requires authentication)
GET {{baseUrl}}/users/me
Authorization: Bearer YOUR_ACCESS_TOKEN_HERE

### 4. Refresh Token
POST {{baseUrl}}/auth/refresh
Content-Type: application/json

{
  "refreshToken": "YOUR_REFRESH_TOKEN_HERE"
}

### 5. Logout
POST {{baseUrl}}/auth/logout
Content-Type: application/json

{
  "refreshToken": "YOUR_REFRESH_TOKEN_HERE"
}

### 6. Test Invalid Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "wrong@email.com",
  "password": "wrongpassword"
}

### 7. Test Validation Error
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "invalid-email",
  "password": "12345"
}

### 8. Test Unauthorized Access (without token)
GET {{baseUrl}}/users/me

